"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[764],{74573:function(L,c,e){e.r(c);var P=e(17061),i=e.n(P),v=e(17156),E=e.n(v),h=e(2618),O=e(90930),p=e(38345),f=e(9927),M=e(67757),u=e(2453),C=e(71230),g=e(15746),b=e(14726),U=e(67294),t=e(85893),B=M.Z.Dragger,T=function(){var l=E()(i()().mark(function r(){var _,n;return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:u.ZP.loading("\u6570\u636E\u5907\u4EFD\u4E2D\uFF0C\u8BF7\u7A0D\u5019\u3002\u3002\u3002"),_="backup.zip",n=localStorage.getItem("token")||"",(0,f.request)("/api/system/backup",{method:"POST",responseType:"blob",headers:{Authorization:"Bearer ".concat(n)}}).then(function(m){u.ZP.loading("\u6B63\u5728\u4E0B\u8F7D\u5907\u4EFD\u6587\u4EF6\uFF0C\u8BF7\u7A0D\u5019\u3002\u3002\u3002");var a=m,D=new Blob([a]);if("download"in document.createElement("a")){var s=document.createElement("a");s.download=_,s.style.display="none",s.href=URL.createObjectURL(D),document.body.appendChild(s),s.click(),URL.revokeObjectURL(s.href),document.body.removeChild(s)}else navigator.msSaveBlob(D,_)});case 4:case"end":return o.stop()}},r)}));return function(){return l.apply(this,arguments)}}(),j={name:"file",multiple:!1,action:"/api/upload",accept:".zip",headers:{authorization:"Bearer "+localStorage.getItem("token")},onChange:function(){var l=E()(i()().mark(function _(n){var d,o;return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(d=n.file.status,d!=="uploading"&&console.log(n.file,n.fileList),d!=="done"){a.next=10;break}if(!n.file.response.success){a.next=8;break}return a.next=6,(0,h.vp)(n.file.response.data);case 6:o=a.sent,o.success&&u.ZP.success("\u4E0A\u4F20\u6210\u529F");case 8:a.next=11;break;case 10:d==="error"&&u.ZP.error("".concat(n.file.name," file upload failed."));case 11:case"end":return a.stop()}},_)}));function r(_){return l.apply(this,arguments)}return r}(),onDrop:function(r){console.log("Dropped files",r.dataTransfer.files)}},R=function(){var r=(0,f.useIntl)();return(0,U.useEffect)(function(){},[]),(0,t.jsx)(O._z,{children:(0,t.jsx)(p.Z,{tabs:{type:"card"},children:(0,t.jsx)(p.Z.TabPane,{tab:"\u5907\u4EFD",children:(0,t.jsx)(C.Z,{children:(0,t.jsx)(g.Z,{span:12,children:(0,t.jsx)(b.ZP,{type:"primary",onClick:T,children:"\u5907\u4EFD"})})})},"tab1")})})};c.default=R}}]);
