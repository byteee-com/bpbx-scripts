"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[292],{56717:function(h,i,e){var E=e(1413),a=e(67294),f=e(93696),p=e(91146),c=function(P,D){return a.createElement(p.Z,(0,E.Z)((0,E.Z)({},P),{},{ref:D,icon:f.Z}))};c.displayName="InfoCircleOutlined",i.Z=a.forwardRef(c)},33586:function(h,i,e){e.r(i);var E=e(42122),a=e.n(E),f=e(27424),p=e.n(f),c=e(17061),r=e.n(c),P=e(17156),D=e.n(P),j=e(2618),A=e(56717),U=e(90930),b=e(67757),O=e(2453),C=e(71230),I=e(15746),M=e(67294),_=e(85893),T=b.Z.Dragger,B={name:"file",multiple:!1,action:"/api/system/upgrade",accept:".zip",headers:{authorization:"Bearer "+localStorage.getItem("token")},onChange:function(){var m=D()(r()().mark(function t(n){var s;return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:s=n.file.status,s!=="uploading"&&console.log(n.file,n.fileList),s==="done"?n.file.response.success?(O.ZP.loading("\u5347\u7EA7\u5305\u66F4\u65B0\u4E2D\uFF0C\u8BF7\u7A0D\u5019\u3002\u3002\u3002"),setTimeout(function(){window.location.reload()},5e3)):O.ZP.error(n.file.response.msg):s==="error"&&O.ZP.error("".concat(n.file.name," file upload failed."));case 3:case"end":return l.stop()}},t)}));function o(t){return m.apply(this,arguments)}return o}(),onDrop:function(o){console.log("Dropped files",o.dataTransfer.files)}},R=function(){var o=(0,M.useState)("1.0.0"),t=p()(o,2),n=t[0],s=t[1],v=function(){var l=D()(r()().mark(function g(){var u;return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,j.eP)();case 2:u=d.sent,u!=null&&u.success&&s(u.data);case 4:case"end":return d.stop()}},g)}));return function(){return l.apply(this,arguments)}}();return(0,M.useEffect)(function(){v()},[]),(0,_.jsxs)(U._z,{children:[(0,_.jsx)(C.Z,{children:(0,_.jsxs)("p",{style:{marginTop:20,marginBottom:20},children:["\u5F53\u524D\u7248\u672C\uFF1A ",n]})}),(0,_.jsx)(C.Z,{children:(0,_.jsx)(I.Z,{span:12,children:(0,_.jsxs)(T,a()(a()({},B),{},{children:[(0,_.jsx)("p",{className:"ant-upload-drag-icon",children:(0,_.jsx)(A.Z,{})}),(0,_.jsx)("p",{className:"ant-upload-text",children:"\u70B9\u51FB\u6587\u4EF6\u4E0A\u4F20\u6216\u62D6\u62FD\u6587\u4EF6\u5230\u6B64"}),(0,_.jsx)("p",{className:"ant-upload-hint",children:"\u4EC5\u652F\u6301ZIP\u6587\u4EF6\uFF0C\u4E0A\u4F20\u540E\u81EA\u52A8\u5347\u7EA7."})]}))})})]})};i.default=R}}]);
