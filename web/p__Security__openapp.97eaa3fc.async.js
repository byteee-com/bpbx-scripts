"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[364],{48483:function($,R,e){e.d(R,{Z:function(){return S}});var Z=e(1413),u=e(67294),O={icon:function(o,s){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:o}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z",fill:s}},{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z",fill:o}}]}},name:"check-circle",theme:"twotone"},d=O,F=e(91146),M=function(o,s){return u.createElement(F.Z,(0,Z.Z)((0,Z.Z)({},o),{},{ref:s,icon:d}))};M.displayName="CheckCircleTwoTone";var S=u.forwardRef(M)},30881:function($,R,e){e.d(R,{Z:function(){return S}});var Z=e(1413),u=e(67294),O={icon:function(o,s){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:o}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm171.8 527.1c1.2 1.5 1.9 3.3 1.9 5.2 0 4.5-3.6 8-8 8l-66-.3-99.3-118.4-99.3 118.5-66.1.3c-4.4 0-8-3.6-8-8 0-1.9.7-3.7 1.9-5.2L471 512.3l-130.1-155a8.32 8.32 0 01-1.9-5.2c0-4.5 3.6-8 8-8l66.1.3 99.3 118.4 99.4-118.5 66-.3c4.4 0 8 3.6 8 8 0 1.9-.6 3.8-1.8 5.2l-130.1 155 129.9 154.9z",fill:s}},{tag:"path",attrs:{d:"M685.8 352c0-4.4-3.6-8-8-8l-66 .3-99.4 118.5-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155-130.1 154.9a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3 99.3-118.5L611.7 680l66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.9 512.2l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z",fill:o}}]}},name:"close-circle",theme:"twotone"},d=O,F=e(91146),M=function(o,s){return u.createElement(F.Z,(0,Z.Z)((0,Z.Z)({},o),{},{ref:s,icon:d}))};M.displayName="CloseCircleTwoTone";var S=u.forwardRef(M)},5966:function($,R,e){var Z=e(97685),u=e(1413),O=e(91),d=e(21770),F=e(8232),M=e(55241),S=e(97435),T=e(67294),o=e(76897),s=e(85893),N=["fieldProps","proFieldProps"],H=["fieldProps","proFieldProps"],A="text",Y=function(l){var n=l.fieldProps,j=l.proFieldProps,a=(0,O.Z)(l,N);return(0,s.jsx)(o.Z,(0,u.Z)({valueType:A,fieldProps:n,filedConfig:{valueType:A},proFieldProps:j},a))},f=function(l){var n=(0,d.Z)(l.open||!1,{value:l.open,onChange:l.onOpenChange}),j=(0,Z.Z)(n,2),a=j[0],L=j[1];return(0,s.jsx)(F.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(B){var E,x=B.getFieldValue(l.name||[]);return(0,s.jsx)(M.Z,(0,u.Z)((0,u.Z)({getPopupContainer:function(c){return c&&c.parentNode?c.parentNode:c},onOpenChange:function(c){return L(c)},content:(0,s.jsxs)("div",{style:{padding:"4px 0"},children:[(E=l.statusRender)===null||E===void 0?void 0:E.call(l,x),l.strengthText?(0,s.jsx)("div",{style:{marginTop:10},children:(0,s.jsx)("span",{children:l.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},l.popoverProps),{},{open:a,children:l.children}))}})},G=function(l){var n=l.fieldProps,j=l.proFieldProps,a=(0,O.Z)(l,H),L=(0,T.useState)(!1),k=(0,Z.Z)(L,2),B=k[0],E=k[1];return n!=null&&n.statusRender&&a.name?(0,s.jsx)(f,{name:a.name,statusRender:n==null?void 0:n.statusRender,popoverProps:n==null?void 0:n.popoverProps,strengthText:n==null?void 0:n.strengthText,open:B,onOpenChange:E,children:(0,s.jsx)("div",{children:(0,s.jsx)(o.Z,(0,u.Z)({valueType:"password",fieldProps:(0,u.Z)((0,u.Z)({},(0,S.Z)(n,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(w){var c;n==null||(c=n.onBlur)===null||c===void 0||c.call(n,w),E(!1)},onClick:function(w){var c;n==null||(c=n.onClick)===null||c===void 0||c.call(n,w),E(!0)}}),proFieldProps:j,filedConfig:{valueType:A}},a))})}):(0,s.jsx)(o.Z,(0,u.Z)({valueType:"password",fieldProps:n,proFieldProps:j,filedConfig:{valueType:A}},a))},W=Y;W.Password=G,W.displayName="ProFormComponent",R.Z=W},3870:function($,R,e){e.r(R),e.d(R,{default:function(){return ee}});var Z=e(27424),u=e.n(Z),O=e(17061),d=e.n(O),F=e(42122),M=e.n(F),S=e(17156),T=e.n(S),o=e(2618),s=e(90930),N=e(18562),H=e(37476),A=e(5966),Y=e(9927),f=e(2453),G=e(86738),W=e(14726),y=e(67294),l=e(1413),n=e(91),j=e(76897),a=e(85893),L=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],k=y.forwardRef(function(P,m){var C=P.fieldProps,h=P.unCheckedChildren,t=P.checkedChildren,g=P.proFieldProps,r=(0,n.Z)(P,L);return(0,a.jsx)(j.Z,(0,l.Z)({valueType:"switch",fieldProps:(0,l.Z)({unCheckedChildren:h,checkedChildren:t},C),ref:m,valuePropName:"checked",proFieldProps:g,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},r))}),B=k,E=e(48483),x=e(30881),w=function(){var P=T()(d()().mark(function m(C){var h,t;return d()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return h=f.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),r.prev=1,r.next=4,(0,o.CY)(M()({},C));case 4:if(t=r.sent,h(),!(t!=null&&t.success)){r.next=11;break}return f.ZP.success("\u6DFB\u52A0\u6210\u529F"),r.abrupt("return",!0);case 11:return f.ZP.error(t.msg),r.abrupt("return",!1);case 13:r.next=20;break;case 15:return r.prev=15,r.t0=r.catch(1),h(),f.ZP.error("\u63A5\u53E3\u9519\u8BEF"),r.abrupt("return",!1);case 20:case"end":return r.stop()}},m,null,[[1,15]])}));return function(C){return P.apply(this,arguments)}}(),c=function(){var P=T()(d()().mark(function m(C,h){var t,g;return d()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return t=f.ZP.loading("\u66F4\u65B0\u4E2D..."),p.prev=1,p.next=4,(0,o.xY)(C,h);case 4:if(g=p.sent,t(),!(g!=null&&g.success)){p.next=11;break}return f.ZP.success("\u66F4\u65B0\u6210\u529F"),p.abrupt("return",!0);case 11:return f.ZP.error(g.msg),p.abrupt("return",!1);case 13:p.next=20;break;case 15:return p.prev=15,p.t0=p.catch(1),t(),f.ZP.error("\u66F4\u65B0\u5931\u8D25"),p.abrupt("return",!1);case 20:case"end":return p.stop()}},m,null,[[1,15]])}));return function(C,h){return P.apply(this,arguments)}}(),q=function(){var P=T()(d()().mark(function m(C){var h,t;return d()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return h=f.ZP.loading("\u6B63\u5728\u5220\u9664"),r.prev=1,r.next=4,(0,o.Kn)(C);case 4:if(t=r.sent,h(),!(t!=null&&t.success)){r.next=11;break}return f.ZP.success("\u5220\u9664\u6210\u529F"),r.abrupt("return",!0);case 11:return f.ZP.error(t.msg),r.abrupt("return",!1);case 13:r.next=20;break;case 15:return r.prev=15,r.t0=r.catch(1),h(),f.ZP.error("\u5220\u9664\u5931\u8D25"),r.abrupt("return",!1);case 20:case"end":return r.stop()}},m,null,[[1,15]])}));return function(C){return P.apply(this,arguments)}}(),_=function(){var m=(0,y.useState)(!1),C=u()(m,2),h=C[0],t=C[1],g=(0,y.useState)([]),r=u()(g,2),p=r[0],ae=r[1],U=(0,y.useRef)(),re=(0,y.useState)(),Q=u()(re,2),z=Q[0],V=Q[1],X=(0,Y.useIntl)(),ne=[{title:"\u540D\u79F0",dataIndex:"name"},{title:"API\u5BC6\u94A5",dataIndex:"apiKey",search:!1},{title:"HTTP\u670D\u52A1",dataIndex:"httpEnable",search:!1,render:function(b,i){return i!=null&&i.httpEnable?(0,a.jsx)(E.Z,{twoToneColor:"#52c41a"}):(0,a.jsx)(x.Z,{twoToneColor:"#eb2f96"})}},{title:"Websocket\u670D\u52A1",dataIndex:"websocketEnable",search:!1,render:function(b,i){return i!=null&&i.websocketEnable?(0,a.jsx)(E.Z,{twoToneColor:"#52c41a"}):(0,a.jsx)(x.Z,{twoToneColor:"#eb2f96"})}},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(b,i){return[(0,a.jsx)("a",{onClick:function(){t(!0),V(i),console.log(i)},children:"\u7F16\u8F91"},"edit"),(0,a.jsx)(G.Z,{title:"\u786E\u8BA4\u5220\u9664",description:"\u6570\u636E\u5220\u9664\u540E\u5C06\u65E0\u6CD5\u6062\u590D",onConfirm:T()(d()().mark(function K(){var J,v;return d()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(i!=null&&i.id){D.next=2;break}return D.abrupt("return");case 2:return D.next=4,q(i.id);case 4:J=D.sent,J&&((v=U.current)===null||v===void 0||v.reload());case 6:case"end":return D.stop()}},K)})),okText:X.formatMessage({id:"pages.confirm",defaultMessage:"\u786E\u5B9A"}),cancelText:X.formatMessage({id:"pages.cancel",defaultMessage:"\u53D6\u6D88"}),children:(0,a.jsx)("a",{className:"text-danger",children:"\u5220\u9664"},"delete")})]}}];return(0,a.jsxs)(s._z,{children:[(0,a.jsx)(N.Z,{headerTitle:"\u5BF9\u8BB2/\u5E7F\u64AD\u7EC4",actionRef:U,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,a.jsx)(W.ZP,{type:"primary",onClick:function(){t(!0)},children:"\u521B\u5EFA"},"primary")]},request:o.C2,columns:ne}),(0,a.jsxs)(H.Y,{title:z?"\u7F16\u8F91\u5E94\u7528":"\u65B0\u5EFA\u5E94\u7528",width:"400px",open:h,onOpenChange:t,initialValues:z,modalProps:{destroyOnClose:!0,onCancel:function(){V(void 0)}},onFinish:function(){var I=T()(d()().mark(function b(i){var K;return d()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!z){v.next=6;break}return v.next=3,c(z.id,i);case 3:v.t0=v.sent,v.next=9;break;case 6:return v.next=8,w(i);case 8:v.t0=v.sent;case 9:K=v.t0,K&&(t(!1),V(void 0),U.current&&U.current.reload());case 11:case"end":return v.stop()}},b)}));return function(b){return I.apply(this,arguments)}}(),children:[(0,a.jsx)(A.Z,{label:"\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"}],width:"md",name:"name"}),(0,a.jsx)(B,{name:"httpEnable",label:"Http\u670D\u52A1",fieldProps:{defaultChecked:!0}}),(0,a.jsx)(B,{name:"websocketEnable",label:"Websocket\u670D\u52A1",fieldProps:{defaultChecked:!0}})]})]})},ee=_}}]);
