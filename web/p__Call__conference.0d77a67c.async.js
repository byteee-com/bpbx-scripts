"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[957],{52688:function(N,E,e){var S=e(1413),R=e(91),T=e(67294),s=e(19323),O=e(85893),j=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],y=T.forwardRef(function(c,C){var A=c.fieldProps,D=c.unCheckedChildren,B=c.checkedChildren,I=c.proFieldProps,$=(0,R.Z)(c,j);return(0,O.jsx)(s.Z,(0,S.Z)({valueType:"switch",fieldProps:(0,S.Z)({unCheckedChildren:D,checkedChildren:B},A),ref:C,valuePropName:"checked",proFieldProps:I,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},$))});E.Z=y},70566:function(N,E,e){e.r(E),e.d(E,{default:function(){return se}});var S=e(27424),R=e.n(S),T=e(17061),s=e.n(T),O=e(42122),j=e.n(O),y=e(17156),c=e.n(y),C=e(2618),A=e(82061),D=e(11774),B=e(49100),I=e(37476),$=e(5966),W=e(1413),k=e(91),Z=e(67294),z=e(19323),t=e(85893),G=["fieldProps","min","proFieldProps","max"],V=function(u,p){var d=u.fieldProps,h=u.min,r=u.proFieldProps,l=u.max,L=(0,k.Z)(u,G);return(0,t.jsx)(z.Z,(0,W.Z)({valueType:"digit",fieldProps:(0,W.Z)({min:h,max:l},d),ref:p,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:r},L))},Y=Z.forwardRef(V),H=Y,J=e(52688),Q=e(9927),f=e(45360),X=e(66309),w=e(86738),q=e(15867),_=e(69215),ee=function(){var M=c()(s()().mark(function u(p){var d;return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return d=f.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),r.prev=1,r.next=4,(0,C.Dc)(j()({},p));case 4:return d(),f.ZP.success("\u6DFB\u52A0\u6210\u529F"),r.abrupt("return",!0);case 9:return r.prev=9,r.t0=r.catch(1),d(),f.ZP.error("\u6DFB\u52A0\u5931\u8D25"),r.abrupt("return",!1);case 14:case"end":return r.stop()}},u,null,[[1,9]])}));return function(p){return M.apply(this,arguments)}}(),re=function(){var M=c()(s()().mark(function u(p,d){var h;return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return h=f.ZP.loading("\u66F4\u65B0\u4E2D..."),l.prev=1,l.next=4,(0,C.Fn)(p,d);case 4:return h(),f.ZP.success("\u66F4\u65B0\u6210\u529F"),l.abrupt("return",!0);case 9:return l.prev=9,l.t0=l.catch(1),h(),f.ZP.error("\u66F4\u65B0\u5931\u8D25"),l.abrupt("return",!1);case 14:case"end":return l.stop()}},u,null,[[1,9]])}));return function(p,d){return M.apply(this,arguments)}}(),ae=function(){var M=c()(s()().mark(function u(p){var d;return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return d=f.ZP.loading("\u6B63\u5728\u5220\u9664"),r.prev=1,r.next=4,(0,C.Rm)(p);case 4:return d(),f.ZP.success("\u5220\u9664\u6210\u529F"),r.abrupt("return",!0);case 9:return r.prev=9,r.t0=r.catch(1),d(),f.ZP.error("\u5220\u9664\u5931\u8D25"),r.abrupt("return",!1);case 14:case"end":return r.stop()}},u,null,[[1,9]])}));return function(p){return M.apply(this,arguments)}}(),ne=function(){var u=(0,Z.useState)(!1),p=R()(u,2),d=p[0],h=p[1],r=(0,Z.useState)(!1),l=R()(r,2),L=l[0],pe=l[1],te=(0,Z.useState)([]),U=R()(te,2),ue=U[0],le=U[1],F=(0,Z.useRef)(),ie=(0,Z.useState)(),K=R()(ie,2),x=K[0],b=K[1],m=(0,Q.useIntl)(),de=function(){var g=c()(s()().mark(function v(a){var o,P,n;return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(a){i.next=2;break}return i.abrupt("return",!0);case 2:return i.next=4,(0,C.Fk)({ids:a.map(function(fe){return fe.id})});case 4:o=i.sent,o.success?((P=F.current)===null||P===void 0||P.clearSelected(),f.ZP.success(m.formatMessage({id:"pages.delete.success",defaultMessage:"\u5220\u9664\u6210\u529F"})),(n=F.current)===null||n===void 0||n.reload()):f.ZP.error(m.formatMessage({id:"pages.delete.failure",defaultMessage:"\u5220\u9664\u5931\u8D25"}));case 6:case"end":return i.stop()}},v)}));return function(a){return g.apply(this,arguments)}}(),oe=[{title:"\u4F1A\u8BAE\u5BA4\u53F7\u7801",dataIndex:"number"},{title:"\u6700\u5927\u6210\u5458\u6570",dataIndex:"maxMembers"},{title:"\u5F00\u542F\u5F55\u97F3",dataIndex:"isRecord"},{title:"\u6210\u5458",search:!1,dataIndex:["extensions"],render:function(v,a){return(a==null?void 0:a.extensions)&&a.extensions.map(function(o){return(0,t.jsx)(X.Z,{children:o.extension.number})})}},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(v,a){return[(0,t.jsx)("a",{onClick:function(){h(!0);var P=a.extensions.map(function(n){return n.extension.id});b(j()(j()({},a),{},{extensions:P})),console.log(a)},children:"\u7F16\u8F91"},"edit"),(0,t.jsx)(w.Z,{title:"\u786E\u8BA4\u5220\u9664",description:"\u6570\u636E\u5220\u9664\u540E\u5C06\u65E0\u6CD5\u6062\u590D",onConfirm:c()(s()().mark(function o(){var P,n;return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(a!=null&&a.id){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,ae(a.id);case 4:P=i.sent,P?(f.ZP.success("\u5220\u9664\u6210\u529F"),(n=F.current)===null||n===void 0||n.reload()):f.ZP.error("\u5220\u9664");case 6:case"end":return i.stop()}},o)})),okText:m.formatMessage({id:"pages.confirm",defaultMessage:"\u786E\u5B9A"}),cancelText:m.formatMessage({id:"pages.cancel",defaultMessage:"\u53D6\u6D88"}),children:(0,t.jsx)("a",{className:"text-danger",children:"\u5220\u9664"},"delete")})]}}];return(0,t.jsxs)(D._z,{children:[(0,t.jsx)(B.Z,{headerTitle:"\u4F1A\u8BAE\u5BA4",actionRef:F,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,t.jsx)(q.ZP,{type:"primary",onClick:function(){h(!0)},children:"\u521B\u5EFA"},"primary")]},request:C.x2,columns:oe,tableAlertOptionRender:function(){return(0,t.jsx)(_.T,{size:16,children:(0,t.jsxs)(w.Z,{title:m.formatMessage({id:"pages.delete.confirm.title",defaultMessage:"\u786E\u8BA4\u5220\u9664\uFF1F"}),description:m.formatMessage({id:"pages.delete.confirm.description",defaultMessage:"\u6570\u636E\u5220\u9664\u540E\u5C06\u65E0\u6CD5\u6062\u590D,\u662F\u5426\u5220\u9664\uFF1F"}),onConfirm:c()(s()().mark(function v(){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:de(ue);case 1:case"end":return o.stop()}},v)})),okText:m.formatMessage({id:"pages.confirm",defaultMessage:"\u786E\u5B9A"}),cancelText:m.formatMessage({id:"pages.cancel",defaultMessage:"\u53D6\u6D88"}),children:[(0,t.jsxs)("a",{style:{color:"red"},children:[(0,t.jsx)(A.Z,{}),m.formatMessage({id:"pages.delete",defaultMessage:"\u5220\u9664"})]})," "]})})},rowSelection:{onChange:function(v,a){le(a)}}}),(0,t.jsxs)(I.Y,{title:x?"\u7F16\u8F91\u4F1A\u8BAE\u5BA4":"\u65B0\u5EFA\u4F1A\u8BAE\u5BA4",width:"400px",open:d,onOpenChange:h,initialValues:x,modalProps:{destroyOnClose:!0,onCancel:function(){b(void 0)}},onFinish:function(){var g=c()(s()().mark(function v(a){var o;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!x){n.next=6;break}return n.next=3,re(x.id,a);case 3:n.t0=n.sent,n.next=9;break;case 6:return n.next=8,ee(a);case 8:n.t0=n.sent;case 9:o=n.t0,o&&(h(!1),b(void 0),F.current&&F.current.reload());case 11:case"end":return n.stop()}},v)}));return function(v){return g.apply(this,arguments)}}(),children:[(0,t.jsx)($.Z,{label:"\u4F1A\u8BAE\u53F7\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4F1A\u8BAE\u53F7\u7801"}],width:"md",name:"number"}),(0,t.jsx)(H,{label:"\u6700\u5927\u6210\u5458\u6570",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4F1A\u8BAE\u53F7\u7801"}],width:"md",name:"maxMembers"}),(0,t.jsx)(J.Z,{name:"isRecord",label:"\u662F\u5426\u5F55\u97F3"})]})]})},se=ne}}]);
