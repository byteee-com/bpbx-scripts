"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[742],{48483:function(z,R,e){e.d(R,{Z:function(){return j}});var E=e(1413),d=e(67294),Z={icon:function(_,l){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:_}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z",fill:l}},{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z",fill:_}}]}},name:"check-circle",theme:"twotone"},a=Z,A=e(91146),O=function(_,l){return d.createElement(A.Z,(0,E.Z)((0,E.Z)({},_),{},{ref:l,icon:a}))};O.displayName="CheckCircleTwoTone";var j=d.forwardRef(O)},30881:function(z,R,e){e.d(R,{Z:function(){return j}});var E=e(1413),d=e(67294),Z={icon:function(_,l){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:_}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm171.8 527.1c1.2 1.5 1.9 3.3 1.9 5.2 0 4.5-3.6 8-8 8l-66-.3-99.3-118.4-99.3 118.5-66.1.3c-4.4 0-8-3.6-8-8 0-1.9.7-3.7 1.9-5.2L471 512.3l-130.1-155a8.32 8.32 0 01-1.9-5.2c0-4.5 3.6-8 8-8l66.1.3 99.3 118.4 99.4-118.5 66-.3c4.4 0 8 3.6 8 8 0 1.9-.6 3.8-1.8 5.2l-130.1 155 129.9 154.9z",fill:l}},{tag:"path",attrs:{d:"M685.8 352c0-4.4-3.6-8-8-8l-66 .3-99.4 118.5-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155-130.1 154.9a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3 99.3-118.5L611.7 680l66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.9 512.2l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z",fill:_}}]}},name:"close-circle",theme:"twotone"},a=Z,A=e(91146),O=function(_,l){return d.createElement(A.Z,(0,E.Z)((0,E.Z)({},_),{},{ref:l,icon:a}))};O.displayName="CloseCircleTwoTone";var j=d.forwardRef(O)},82061:function(z,R,e){var E=e(1413),d=e(67294),Z=e(47046),a=e(91146),A=function(j,c){return d.createElement(a.Z,(0,E.Z)((0,E.Z)({},j),{},{ref:c,icon:Z.Z}))};A.displayName="DeleteOutlined",R.Z=d.forwardRef(A)},21134:function(z,R,e){var E=e(1413),d=e(91),Z=e(67294),a=e(76897),A=e(85893),O=["fieldProps","request","params","proFieldProps"],j=function(l,$){var N=l.fieldProps,L=l.request,k=l.params,V=l.proFieldProps,G=(0,d.Z)(l,O);return(0,A.jsx)(a.Z,(0,E.Z)({valueType:"segmented",fieldProps:N,ref:$,request:L,params:k,filedConfig:{customLightMode:!0},proFieldProps:V},G))},c=Z.forwardRef(j);R.Z=c},5966:function(z,R,e){var E=e(97685),d=e(1413),Z=e(91),a=e(21770),A=e(8232),O=e(55241),j=e(97435),c=e(67294),_=e(76897),l=e(85893),$=["fieldProps","proFieldProps"],N=["fieldProps","proFieldProps"],L="text",k=function(p){var t=p.fieldProps,u=p.proFieldProps,b=(0,Z.Z)(p,$);return(0,l.jsx)(_.Z,(0,d.Z)({valueType:L,fieldProps:t,filedConfig:{valueType:L},proFieldProps:u},b))},V=function(p){var t=(0,a.Z)(p.open||!1,{value:p.open,onChange:p.onOpenChange}),u=(0,E.Z)(t,2),b=u[0],S=u[1];return(0,l.jsx)(A.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(H){var T,s=H.getFieldValue(p.name||[]);return(0,l.jsx)(O.Z,(0,d.Z)((0,d.Z)({getPopupContainer:function(P){return P&&P.parentNode?P.parentNode:P},onOpenChange:function(P){return S(P)},content:(0,l.jsxs)("div",{style:{padding:"4px 0"},children:[(T=p.statusRender)===null||T===void 0?void 0:T.call(p,s),p.strengthText?(0,l.jsx)("div",{style:{marginTop:10},children:(0,l.jsx)("span",{children:p.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},p.popoverProps),{},{open:b,children:p.children}))}})},G=function(p){var t=p.fieldProps,u=p.proFieldProps,b=(0,Z.Z)(p,N),S=(0,c.useState)(!1),x=(0,E.Z)(S,2),H=x[0],T=x[1];return t!=null&&t.statusRender&&b.name?(0,l.jsx)(V,{name:b.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:H,onOpenChange:T,children:(0,l.jsx)("div",{children:(0,l.jsx)(_.Z,(0,d.Z)({valueType:"password",fieldProps:(0,d.Z)((0,d.Z)({},(0,j.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(w){var P;t==null||(P=t.onBlur)===null||P===void 0||P.call(t,w),T(!1)},onClick:function(w){var P;t==null||(P=t.onClick)===null||P===void 0||P.call(t,w),T(!0)}}),proFieldProps:u,filedConfig:{valueType:L}},b))})}):(0,l.jsx)(_.Z,(0,d.Z)({valueType:"password",fieldProps:t,proFieldProps:u,filedConfig:{valueType:L}},b))},F=k;F.Password=G,F.displayName="ProFormComponent",R.Z=F},99420:function(z,R,e){e.r(R);var E=e(27424),d=e.n(E),Z=e(17061),a=e.n(Z),A=e(42122),O=e.n(A),j=e(17156),c=e.n(j),_=e(2618),l=e(48483),$=e(30881),N=e(8751),L=e(18429),k=e(82061),V=e(90930),G=e(18562),F=e(37476),I=e(5966),p=e(21134),t=e(9927),u=e(2453),b=e(66309),S=e(86738),x=e(14726),H=e(78957),T=e(67294),s=e(85893),w=function(){var W=c()(a()().mark(function D(g){var m,o;return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return m=u.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),r.prev=1,r.next=4,(0,_.oo)(O()({},g));case 4:if(o=r.sent,m(),!(o!=null&&o.success)){r.next=11;break}return u.ZP.success("\u6DFB\u52A0\u6210\u529F"),r.abrupt("return",!0);case 11:return u.ZP.error(o.msg),r.abrupt("return",!1);case 13:r.next=20;break;case 15:return r.prev=15,r.t0=r.catch(1),m(),u.ZP.error("\u63A5\u53E3\u9519\u8BEF"),r.abrupt("return",!1);case 20:case"end":return r.stop()}},D,null,[[1,15]])}));return function(g){return W.apply(this,arguments)}}(),P=function(){var W=c()(a()().mark(function D(g){var m,o;return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return m=u.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),r.prev=1,r.next=4,(0,_.jT)(O()({},g));case 4:if(o=r.sent,m(),!(o!=null&&o.success)){r.next=11;break}return u.ZP.success("\u6DFB\u52A0\u6210\u529F"),r.abrupt("return",!0);case 11:return u.ZP.error(o.msg),r.abrupt("return",!1);case 13:r.next=20;break;case 15:return r.prev=15,r.t0=r.catch(1),m(),u.ZP.error("\u63A5\u53E3\u9519\u8BEF"),r.abrupt("return",!1);case 20:case"end":return r.stop()}},D,null,[[1,15]])}));return function(g){return W.apply(this,arguments)}}(),ee=function(){var W=c()(a()().mark(function D(g,m){var o,B;return a()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return o=u.ZP.loading("\u66F4\u65B0\u4E2D..."),h.prev=1,h.next=4,(0,_.hm)(g,m);case 4:if(B=h.sent,o(),!(B!=null&&B.success)){h.next=11;break}return u.ZP.success("\u66F4\u65B0\u6210\u529F"),h.abrupt("return",!0);case 11:return u.ZP.error(B.msg),h.abrupt("return",!1);case 13:h.next=20;break;case 15:return h.prev=15,h.t0=h.catch(1),o(),u.ZP.error("\u63A5\u53E3\u9519\u8BEF"),h.abrupt("return",!1);case 20:case"end":return h.stop()}},D,null,[[1,15]])}));return function(g,m){return W.apply(this,arguments)}}(),re=function(){var W=c()(a()().mark(function D(g){var m,o;return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return m=u.ZP.loading("\u6B63\u5728\u5220\u9664"),r.prev=1,r.next=4,(0,_.SB)(g);case 4:if(o=r.sent,m(),!(o!=null&&o.success)){r.next=11;break}return u.ZP.success("\u5220\u9664\u6210\u529F"),r.abrupt("return",!0);case 11:return u.ZP.error(o.msg),r.abrupt("return",!1);case 13:r.next=20;break;case 15:return r.prev=15,r.t0=r.catch(1),m(),u.ZP.error("\u63A5\u53E3\u9519\u8BEF"),r.abrupt("return",!1);case 20:case"end":return r.stop()}},D,null,[[1,15]])}));return function(g){return W.apply(this,arguments)}}(),ne=function(){var D=(0,T.useState)(!1),g=d()(D,2),m=g[0],o=g[1],B=(0,T.useState)(!1),r=d()(B,2),h=r[0],J=r[1],K=(0,T.useRef)(),ae=(0,T.useState)(),X=d()(ae,2),Y=X[0],Q=X[1],se=(0,T.useState)([]),q=d()(se,2),te=q[0],le=q[1],ue=function(){var v=c()(a()().mark(function f(n){var C,y,i;return a()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(n){M.next=2;break}return M.abrupt("return",!0);case 2:return M.next=4,(0,_.yJ)({ids:n.map(function(de){return de.id})});case 4:C=M.sent,C.success?((y=K.current)===null||y===void 0||y.clearSelected(),u.ZP.success(U.formatMessage({id:"pages.delete.success",defaultMessage:"\u5220\u9664\u6210\u529F"})),(i=K.current)===null||i===void 0||i.reload()):u.ZP.error(U.formatMessage({id:"pages.delete.failure",defaultMessage:"\u5220\u9664\u5931\u8D25"}));case 6:case"end":return M.stop()}},f)}));return function(n){return v.apply(this,arguments)}}(),U=(0,t.useIntl)(),oe=[{title:"\u5206\u673A\u53F7",dataIndex:"name"},{title:"\u663E\u793A\u540D\u79F0",dataIndex:"callerid"},{title:"\u5206\u673A\u5BC6\u7801",dataIndex:"secret",search:!1},{title:"\u5F00\u542F\u89C6\u9891",dataIndex:"videosupport",search:!1,render:function(f,n){return(n==null?void 0:n.videosupport)=="yes"?(0,s.jsx)(l.Z,{twoToneColor:"#52c41a"}):(0,s.jsx)($.Z,{twoToneColor:"#eb2f96"})}},{title:"\u7528\u6237IP",dataIndex:"ipaddr",search:!1},{title:"\u7528\u6237\u7AEF\u53E3",dataIndex:"port",search:!1},{title:"\u72B6\u6001",dataIndex:"status",search:!1,render:function(f,n){return n!=null&&n.useragent?(0,s.jsx)(b.Z,{icon:(0,s.jsx)(N.Z,{}),color:"success",children:"\u5DF2\u6CE8\u518C"}):(0,s.jsx)(b.Z,{icon:(0,s.jsx)(L.Z,{}),color:"default",children:"\u672A\u6CE8\u518C"})}},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(f,n){return[(0,s.jsx)("a",{onClick:function(){o(!0),Q(n),console.log(n)},children:"\u7F16\u8F91"},"edit"),(0,s.jsx)(S.Z,{title:"\u786E\u8BA4\u5220\u9664",description:"\u6570\u636E\u5220\u9664\u540E\u5C06\u65E0\u6CD5\u6062\u590D",onConfirm:c()(a()().mark(function C(){var y,i;return a()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(n!=null&&n.id){M.next=2;break}return M.abrupt("return");case 2:return M.next=4,re(n.id);case 4:y=M.sent,y&&((i=K.current)===null||i===void 0||i.reload());case 6:case"end":return M.stop()}},C)})),okText:U.formatMessage({id:"pages.confirm",defaultMessage:"\u786E\u5B9A"}),cancelText:U.formatMessage({id:"pages.cancel",defaultMessage:"\u53D6\u6D88"}),children:(0,s.jsx)("a",{className:"text-danger",children:"\u5220\u9664"},"delete")})]}}];return(0,s.jsxs)(V._z,{children:[(0,s.jsx)(G.Z,{headerTitle:"\u5206\u673A\u914D\u7F6E",actionRef:K,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,s.jsx)(x.ZP,{type:"primary",onClick:function(){o(!0)},children:"\u5355\u4E2A\u521B\u5EFA"},"primary"),(0,s.jsx)(x.ZP,{type:"primary",onClick:function(){J(!0)},children:"\u6279\u91CF\u521B\u5EFA"},"primary")]},request:_.zS,columns:oe,tableAlertOptionRender:function(){return(0,s.jsx)(H.Z,{size:16,children:(0,s.jsxs)(S.Z,{title:U.formatMessage({id:"pages.delete.confirm.title",defaultMessage:"\u786E\u8BA4\u5220\u9664\uFF1F"}),description:U.formatMessage({id:"pages.delete.confirm.description",defaultMessage:"\u6570\u636E\u5220\u9664\u540E\u5C06\u65E0\u6CD5\u6062\u590D,\u662F\u5426\u5220\u9664\uFF1F"}),onConfirm:c()(a()().mark(function f(){return a()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:ue(te);case 1:case"end":return C.stop()}},f)})),okText:U.formatMessage({id:"pages.confirm",defaultMessage:"\u786E\u5B9A"}),cancelText:U.formatMessage({id:"pages.cancel",defaultMessage:"\u53D6\u6D88"}),children:[(0,s.jsxs)("a",{style:{color:"red"},children:[(0,s.jsx)(k.Z,{}),U.formatMessage({id:"pages.delete",defaultMessage:"\u5220\u9664"})]})," "]})})},rowSelection:{onChange:function(f,n){le(n)}}}),(0,s.jsxs)(F.Y,{title:"\u6279\u91CF\u521B\u5EFA\u5206\u673A\u53F7",width:"400px",open:h,onOpenChange:J,modalProps:{destroyOnClose:!0,onCancel:function(){}},onFinish:function(){var v=c()(a()().mark(function f(n){var C;return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,P(n);case 2:C=i.sent,C&&(J(!1),K.current&&K.current.reload());case 4:case"end":return i.stop()}},f)}));return function(f){return v.apply(this,arguments)}}(),children:[(0,s.jsx)(I.Z,{label:"\u8D77\u59CB\u5206\u673A\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5206\u673A\u53F7"}],width:"md",name:"numberStart"}),(0,s.jsx)(I.Z,{label:"\u7ED3\u675F\u5206\u673A\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5206\u673A\u53F7"}],width:"md",name:"numberEnd"}),(0,s.jsx)(I.Z,{label:"\u5206\u673A\u5BC6\u7801",rules:[{required:!1,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}],width:"md",name:"secret"}),(0,s.jsx)(p.Z,{name:"videosupport",label:"\u89C6\u9891\u652F\u6301",initialValue:"yes",request:c()(a()().mark(function v(){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",[{label:"\u662F",value:"yes"},{label:"\u5426",value:"no"}]);case 1:case"end":return n.stop()}},v)}))})]}),(0,s.jsxs)(F.Y,{title:Y?"\u7F16\u8F91\u5206\u673A\u53F7":"\u65B0\u5EFA\u5206\u673A\u53F7",width:"400px",open:m,onOpenChange:o,initialValues:Y,modalProps:{destroyOnClose:!0,onCancel:function(){Q(void 0)}},onFinish:function(){var v=c()(a()().mark(function f(n){var C;return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!Y){i.next=6;break}return i.next=3,ee(Y.id,n);case 3:i.t0=i.sent,i.next=9;break;case 6:return i.next=8,w(n);case 8:i.t0=i.sent;case 9:C=i.t0,C&&(o(!1),Q(void 0),K.current&&K.current.reload());case 11:case"end":return i.stop()}},f)}));return function(f){return v.apply(this,arguments)}}(),children:[(0,s.jsx)(I.Z,{label:"\u5206\u673A\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5206\u673A\u53F7"}],width:"md",name:"name"}),(0,s.jsx)(I.Z,{label:"\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"}],width:"md",name:"callerid"}),(0,s.jsx)(I.Z,{label:"\u5206\u673A\u5BC6\u7801",rules:[{required:!1,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}],width:"md",name:"secret"}),(0,s.jsx)(p.Z,{name:"videosupport",label:"\u89C6\u9891\u652F\u6301",request:c()(a()().mark(function v(){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",[{label:"\u662F",value:"yes"},{label:"\u5426",value:"no"}]);case 1:case"end":return n.stop()}},v)}))})]})]})};R.default=ne}}]);
